(self.webpackChunkflashscore=self.webpackChunkflashscore||[]).push([[1909],{23831:(e,t,n)=>{"use strict";var r,i=n(81923);n(71500);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e.NOT_INITIALIZED="NOT_INITIALIZED",e.INITIALIZED="PERMISSION_GRANTED",e.PERMISSION_DENIED="PERMISSION_DENIED",e.UNSUPPORTED="UNSUPPORTED"}(r||(r={}));let a=function(){function e(t,n,r,i,s,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._stepRunCache=new Map,this._requestNotificationPermission=t,this._serviceWorkerSupportCheck=n,this._subscribeServiceWorker=r,this._messagingServiceWorker=i,this._registerTokenListener=s,this._logger=a}var t,n,i;return t=e,(n=[{key:"run",value:function(){return this._rejectWith(this._serviceWorkerSupportCheck.make(),r.UNSUPPORTED).then((()=>this._rejectWith(this._requestNotificationPermission.make(),r.PERMISSION_DENIED))).then((()=>this._rejectWith(this._subscribeServiceWorker.make(),r.UNSUPPORTED))).then((e=>this._rejectWith(this._runWhenNotSuccessfulAlready(this._messagingServiceWorker,e),r.UNSUPPORTED))).then((()=>this._rejectWith(this._registerTokenListener.make(),r.UNSUPPORTED))).then((()=>Promise.resolve(r.INITIALIZED)))}},{key:"_runWhenNotSuccessfulAlready",value:function(e,t){return this._stepRunCache.has(e)?Promise.resolve(this._stepRunCache.get(e)):e.make(t).then((t=>(this._stepRunCache.set(e,t),Promise.resolve(t))))}},{key:"_rejectWith",value:function(e,t){return e.catch((e=>(this._logger(e),Promise.reject(t))))}}])&&s(t.prototype,n),i&&s(t,i),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._delegate=t,this._onResult=n}var t,n,r;return t=e,(n=[{key:"make",value:function(e){return this._delegate.make(e).then((e=>(this._onResult(e),Promise.resolve(e))))}}])&&o(t.prototype,n),r&&o(t,r),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.messaging=t}var t,n,r;return t=e,(n=[{key:"make",value:function(){return this.messaging.requestPermission()}}])&&u(t.prototype,n),r&&u(t,r),e}();function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let f=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.navigator=t,this.window=n}var t,n,r;return t=e,(n=[{key:"make",value:function(){return"serviceWorker"in this.navigator&&"PushManager"in this.window?Promise.resolve():Promise.reject("Push messages not supported")}}])&&h(t.prototype,n),r&&h(t,r),e}();function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let p=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.navigator=t,this.pushServiceWorkerLocation=n}var t,n,r;return t=e,(n=[{key:"make",value:function(){return this.navigator.serviceWorker.register(this.pushServiceWorkerLocation).then((e=>Promise.resolve(e))).catch((e=>Promise.reject("SW registration failed: "+JSON.stringify(e))))}}])&&_(t.prototype,n),r&&_(t,r),e}();function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.messaging=t}var t,n,r;return t=e,(n=[{key:"make",value:function(e){return this.messaging.useServiceWorker(e),Promise.resolve()}}])&&g(t.prototype,n),r&&g(t,r),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let v=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.messaging=t,this.tokenListener=n}var t,n,r;return t=e,(n=[{key:"make",value:function(){return this.messaging.onTokenRefresh((()=>{this.messaging.getToken().then((e=>{e&&this.tokenListener(e)})).catch((e=>{}))})),this.messaging.getToken().then((e=>{e&&this.tokenListener(e)}))}}])&&b(t.prototype,n),r&&b(t,r),e}();var d;function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e.DEFAULT="default",e.DENIED="denied",e.GRANTED="granted"}(d||(d={}));let w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._windowPermissionProvider=t}var t,n,r;return t=e,(n=[{key:"getPermissions",value:function(){let e=d.DEFAULT;switch(this._windowPermissionProvider()){case"denied":e=d.DENIED;break;case"granted":e=d.GRANTED}return Promise.resolve(e)}}])&&k(t.prototype,n),r&&k(t,r),e}();var m;function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e.HTML_TEMPLATE='<div id="notifications-alert">\n\t<div class="alert alert--notifications">##MESSAGE##</div>\n</div>'}(m||(m={}));let P=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._hidden=!1,this._subscribeCallback=()=>{},this._pendingCallback=()=>{},this._deniedCallback=()=>{},this._windowPermissionProvider=t,this._alertWrapper=n}var t,n,r;return t=e,(n=[{key:"run",value:async function(){switch(await this.getStatus()){case d.DEFAULT:this._alertNotificationsDefault();break;case d.GRANTED:this._alertNotificationGranted();break;case d.DENIED:this._alertNotificationDenied()}}},{key:"getStatus",value:async function(){return new w(this._windowPermissionProvider).getPermissions()}},{key:"setTranslations",value:function(e){return this._utilTrans=e,this}},{key:"setStorage",value:function(e){return this._storage=e,this}},{key:"setSubscribeCallback",value:function(e){return this._subscribeCallback=e,this}},{key:"setPendingCallback",value:function(e){return this._pendingCallback=e,this}},{key:"setDeniedCallback",value:function(e){return this._deniedCallback=e,this}},{key:"showAlert",value:function(){this._alertWrapper&&!this._hidden&&(this._alertWrapper.style.display="block")}},{key:"hideAlert",value:function(){this._hidden=!0,this._alertWrapper&&(this._alertWrapper.style.display="none")}},{key:"_alertNotificationsDefault",value:function(){const e=!!this._storage.getSession("LS_notifications_dismissed");if(this._alertWrapper&&!e){let e=m.HTML_TEMPLATE;const t=this._utilTrans.translate("TRANS_NOTIFICATIONS_ARE_OFF"),n=this._utilTrans.translate("TRANS_NOTIFICATIONS_PROMPT"),r=this._utilTrans.translate("TRANS_NOTIFICATIONS_SET");e=e.replace("##MESSAGE##",`\n\t\t\t\t\t<div class="alert__icon"></div>\n\t\t\t\t\t<div class="alert__close" onclick="this.parentElement.style.display = 'none'"></div>\n\t\t\t\t\t<div class="alert__text"><strong>${t}.</strong> ${n}</div>\n\t\t\t\t\t<div id="notifications-alert-button" class="alert__button">${r}</div>`),this._alertWrapper.innerHTML=e;const i=document.getElementById("notifications-alert-button");i&&(i.onclick=this._subscribeCallback),this._pendingCallback()}}},{key:"_alertNotificationGranted",value:function(){this._alertWrapper&&this.hideAlert(),this._subscribeCallback()}},{key:"_alertNotificationDenied",value:function(){const e=!!this._storage.getSession("LS_notifications_dismissed");if(this._alertWrapper&&!e){let e=m.HTML_TEMPLATE;const t=this._utilTrans.translate("TRANS_NOTIFICATIONS_BLOCKED_BY_BROWSER"),n=this._utilTrans.translate("TRANS_NOTIFICATIONS_BLOCKED_PROMPT");e=e.replace("##MESSAGE##",`\n\t\t\t\t\t<div class="alert__icon"></div>\n\t\t\t\t\t<div class="alert__close" onclick="this.parentElement.style.display = 'none'"></div>\n\t\t\t\t\t<div class="alert__text"><strong>${t}.</strong> ${n}</div>`),this._alertWrapper.innerHTML=e,this.showAlert()}this._deniedCallback()}}])&&C(t.prototype,n),r&&C(t,r),e}();var T=n(25702);function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let I=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._pathPrefix=t}var t,n,r;return t=e,(n=[{key:"makeRequest",value:function(e){const t={};for(const n in e.params)t[n]=e.params[n];return new T.c(this._pathPrefix+e.path+"/",t)}}])&&S(t.prototype,n),r&&S(t,r),e}();function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let O=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._requestProvider=t,this._apiResponseChecker=n,this._requestor=r}var t,n,r;return t=e,(n=[{key:"makeCall",value:function(e){return this._requestor.makeRequest(this._requestProvider.makeFor(e)).then((e=>this._apiResponseChecker.isOk(e)?Promise.resolve():Promise.reject("Invalid server response: '"+JSON.stringify(e)+"'")))}}])&&E(t.prototype,n),r&&E(t,r),e}();function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let N=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"isOk",value:function(e){return"ok"==e.getContent()}}])&&A(t.prototype,n),r&&A(t,r),e}();function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"throwOnInvalidParams",value:function(e){if(!Array.isArray(e))throw new Error("Params should be array");if(!e.length)throw new Error("Params should be non array");e.forEach((e=>null!=e.getId()))}}])&&j(t.prototype,n),r&&j(t,r),e}();function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let q=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._apiCallDelegate=t,this._paramsValidator=n}var t,n,r;return t=e,(n=[{key:"makeCall",value:function(e){try{this._paramsValidator.throwOnInvalidParams(e)}catch(t){return Promise.reject("Invalid params '"+JSON.stringify(e)+"'. "+t.message)}return this._apiCallDelegate.makeCall(e)}}])&&L(t.prototype,n),r&&L(t,r),e}();function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),e}let M=function(){function e(t,n,r){R(this,e),this._requestor=t,this._requestProvider=new U(n,r),this._responseChecker=new N}return W(e,[{key:"make",value:function(){return new q(new O(this._requestProvider,this._responseChecker,this._requestor),new D)}}]),e}(),U=function(){function e(t,n){R(this,e),this._tokenPart=t,this._requestFormatter=n}return W(e,[{key:"makeFor",value:function(e){return this._requestFormatter.makeRequest({path:"subscribe",params:{channels:JSON.stringify(e.map((e=>e.getId()))),token:this._tokenPart()}})}}]),e}();function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t,n){return t&&G(e.prototype,t),n&&G(e,n),e}let J=function(){function e(t,n,r){x(this,e),this._requestor=t,this._requestProvider=new V(n,r),this._responseChecker=new N}return z(e,[{key:"make",value:function(){return new q(new O(this._requestProvider,this._responseChecker,this._requestor),new D)}}]),e}(),V=function(){function e(t,n){x(this,e),this._tokenPart=t,this._requestFormatter=n}return z(e,[{key:"makeFor",value:function(e){return this._requestFormatter.makeRequest({path:"unsubscribe",params:{channels:JSON.stringify(e.map((e=>e.getId()))),token:this._tokenPart()}})}}]),e}();function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let B=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"throwOnInvalidParams",value:function(e){if(!Array.isArray(e))throw new Error("Params should be array");if(!e.length)throw new Error("Params should be non array");e.forEach((e=>null!=e.getValue()))}}])&&H(t.prototype,n),r&&H(t,r),e}();function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),e}let Y=function(){function e(t,n,r){Z(this,e),this._requestor=t,this._requestProvider=new X(n,r),this._responseChecker=new N}return $(e,[{key:"make",value:function(){return new q(new O(this._requestProvider,this._responseChecker,this._requestor),new Q)}}]),e}(),Q=function(){function e(){Z(this,e),this._channelsValidator=new D,this._settingsValidator=new B}return $(e,[{key:"throwOnInvalidParams",value:function(e){if(!Array.isArray(e))throw new Error("Params should be array [Channel[], Option[]]");this._channelsValidator.throwOnInvalidParams(e[0]),this._settingsValidator.throwOnInvalidParams(e[1])}}]),e}(),X=function(){function e(t,n){Z(this,e),this._tokenPart=t,this._requestFormatter=n}return $(e,[{key:"makeFor",value:function(e){return this._requestFormatter.makeRequest({path:"subscribe-all",params:{channels:JSON.stringify(e[0].map((e=>e.getId()))),settings:JSON.stringify(e[1].map((e=>e.getValue()))),token:this._tokenPart()}})}}]),e}();function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t,n){return t&&te(e.prototype,t),n&&te(e,n),e}let re=function(){function e(t,n,r){ee(this,e),this._requestor=t,this._requestProvider=new ie(n,r),this._responseChecker=new N}return ne(e,[{key:"make",value:function(){return new q(new O(this._requestProvider,this._responseChecker,this._requestor),new B)}}]),e}(),ie=function(){function e(t,n){ee(this,e),this._tokenPart=t,this._requestFormatter=n}return ne(e,[{key:"makeFor",value:function(e){return this._requestFormatter.makeRequest({path:"settings",params:{settings:JSON.stringify(e.map((e=>e.getValue()))),token:this._tokenPart()}})}}]),e}();function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t,n){return t&&ae(e.prototype,t),n&&ae(e,n),e}let le=function(){function e(t,n,r){se(this,e),this._requestor=t,this._requestProvider=new ue(n,r),this._responseChecker=new N}return oe(e,[{key:"make",value:function(){return new q(new O(this._requestProvider,this._responseChecker,this._requestor),new B)}}]),e}(),ue=function(){function e(t,n){se(this,e),this._tokenPart=t,this._requestFormatter=n}return oe(e,[{key:"makeFor",value:function(e){return this._requestFormatter.makeRequest({path:"subscribe-token",params:{settings:JSON.stringify(e.map((e=>e.getValue()))),token:this._tokenPart()}})}}]),e}();function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t,n){return t&&he(e.prototype,t),n&&he(e,n),e}let _e=function(){function e(t,n,r){ce(this,e),this._requestor=t,this._requestProvider=new pe(n,r),this._responseChecker=new N}return fe(e,[{key:"make",value:function(){return new q(new O(this._requestProvider,this._responseChecker,this._requestor),new D)}}]),e}(),pe=function(){function e(t,n){ce(this,e),this._tokenPart=t,this._requestFormatter=n}return fe(e,[{key:"makeFor",value:function(e){return this._requestFormatter.makeRequest({path:"subscribe-disable",params:{channelsDisabled:JSON.stringify(e.map((e=>e.getId()))),token:this._tokenPart()}})}}]),e}();function ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t,n){return t&&ye(e.prototype,t),n&&ye(e,n),e}let ve=function(){function e(t,n,r){ge(this,e),this._requestor=t,this._requestProvider=new de(n,r),this._responseChecker=new N}return be(e,[{key:"make",value:function(){return new q(new O(this._requestProvider,this._responseChecker,this._requestor),new D)}}]),e}(),de=function(){function e(t,n){ge(this,e),this._tokenPart=t,this._requestFormatter=n}return be(e,[{key:"makeFor",value:function(e){return this._requestFormatter.makeRequest({path:"unsubscribe-disable",params:{channelsDisabled:JSON.stringify(e.map((e=>e.getId()))),token:this._tokenPart()}})}}]),e}();function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let we=function(){function e(t,n,r,i,s,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._addChannelsApiCall=t,this._removeChannelsApiCall=n,this._updateSettingsApiCall=r,this._unSubscribeAllApiCall=i,this._subscribeAllApiCall=s,this._unSubscribeDisableApiCall=a,this._subscribeDisableApiCall=o}var t,n,r;return t=e,(n=[{key:"addChannels",value:function(e){return this._addChannelsApiCall.makeCall(e)}},{key:"removeChannels",value:function(e){return this._removeChannelsApiCall.makeCall(e)}},{key:"updateSettings",value:function(e){return this._updateSettingsApiCall.makeCall(e)}},{key:"subscribeAll",value:function(e,t){return this._subscribeAllApiCall.makeCall([e,t])}},{key:"unSubscribeAll",value:function(e){return this._unSubscribeAllApiCall.makeCall(e)}},{key:"subscribeDisable",value:function(e){return this._subscribeDisableApiCall.makeCall(e)}},{key:"unSubscribeDisable",value:function(e){return this._unSubscribeDisableApiCall.makeCall(e)}}])&&ke(t.prototype,n),r&&ke(t,r),e}();var me=n(84004);function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let Pe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._delegateApi=t,this._promiseSerializer=new me.$b({nextPromise:e=>e()})}var t,n,r;return t=e,(n=[{key:"addChannels",value:function(e){return this._promiseSerializer.next((()=>this._delegateApi.addChannels(e)))}},{key:"removeChannels",value:function(e){return this._promiseSerializer.next((()=>this._delegateApi.removeChannels(e)))}},{key:"updateSettings",value:function(e){return this._promiseSerializer.next((()=>this._delegateApi.updateSettings(e)))}},{key:"subscribeAll",value:function(e,t){return this._promiseSerializer.next((()=>this._delegateApi.subscribeAll(e,t)))}},{key:"unSubscribeAll",value:function(e){return this._promiseSerializer.next((()=>this._delegateApi.unSubscribeAll(e)))}},{key:"subscribeDisable",value:function(e){return this._promiseSerializer.next((()=>this._delegateApi.subscribeDisable(e)))}},{key:"unSubscribeDisable",value:function(e){return this._promiseSerializer.next((()=>this._delegateApi.unSubscribeDisable(e)))}}])&&Ce(t.prototype,n),r&&Ce(t,r),e}();function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let Se=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._platformPrefix=""}var t,n,r;return t=e,(n=[{key:"setRequestor",value:function(e){return this._requestor=e,this}},{key:"setPlatformPrefix",value:function(e){return this._platformPrefix=e,this}},{key:"setUserTokenGetter",value:function(e){return this._userTokenGetter=e,this}},{key:"build",value:function(){const e=new M(this._requestor,this._userTokenGetter,new I(this._platformPrefix)).make(),t=new J(this._requestor,this._userTokenGetter,new I(this._platformPrefix)).make(),n=new re(this._requestor,this._userTokenGetter,new I(this._platformPrefix)).make(),r=new le(this._requestor,this._userTokenGetter,new I(this._platformPrefix)).make(),i=new Y(this._requestor,this._userTokenGetter,new I(this._platformPrefix)).make(),s=new _e(this._requestor,this._userTokenGetter,new I(this._platformPrefix)).make(),a=new ve(this._requestor,this._userTokenGetter,new I(this._platformPrefix)).make();return new Pe(new we(e,t,n,r,i,a,s))}}])&&Te(t.prototype,n),r&&Te(t,r),e}();function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let Ee=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.doInit=!0,this.subscribedEmpty=!1,this.pushApi=t,this.subscriptionCollectionFactory=n,this.disabledSubscriptionCollectionFactory=r,this.settingsCollectionFactory=i,this.promiseSerializer=new me.$b({nextPromise:e=>e()})}var t,n,r;return t=e,(n=[{key:"channelsChanged",value:function(e,t,n){return this.promiseSerializer.next((()=>{if(0==e.length&&this.subscribedEmpty)return Promise.resolve();if(0==e.length)return this.doInit=!0,this.pushApi.unSubscribeAll(n).then((()=>{this.subscribedEmpty=!0}));if(this.subscribedEmpty=!1,this.doInit)return Promise.all([this.pushApi.subscribeAll(e,n),t.length?this.pushApi.subscribeDisable(t):void 0]).then((()=>(this.doInit=!1,Promise.resolve())));const r=[],i=[],s=[],a=[],o=this.subscriptionCollectionFactory(),l=this.disabledSubscriptionCollectionFactory();return e.forEach((e=>{o.has(e)||r.push(e)})),t.forEach((e=>{l.has(e)||s.push(e)})),o.getAll().forEach((t=>{let n=!1;for(const r of e)if(JSON.stringify(r)==JSON.stringify(t)){n=!0;break}n||i.push(t)})),l.getAll().forEach((e=>{let n=!1;for(const r of t)if(JSON.stringify(r)==JSON.stringify(e)){n=!0;break}n||a.push(e)})),Promise.all([r.length?this.pushApi.addChannels(r):void 0,i.length?this.pushApi.removeChannels(i):void 0,s.length?this.pushApi.subscribeDisable(s):void 0,a.length?this.pushApi.unSubscribeDisable(a):void 0,this.handleSettings(n)]).then((()=>Promise.resolve()))}))}},{key:"handleSettings",value:function(e){const t=this.settingsCollectionFactory();let n=!1;for(const r of e)if(!t.has(r)){n=!0;break}return n||t.getAll().forEach((t=>{let r=!1;for(const n of e)if(JSON.stringify(n)==JSON.stringify(t)){r=!0;break}r||(n=!0)})),n?this.pushApi.updateSettings(e):Promise.resolve()}}])&&Ie(t.prototype,n),r&&Ie(t,r),e}();var Oe=n(8789);function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let Ne=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);const r=n.split("_")[1];this._id=t+"_TEAM_"+r}var t,n,r;return t=e,(n=[{key:"getId",value:function(){return this._id}}])&&Ae(t.prototype,n),r&&Ae(t,r),e}();function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let De=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=`lsid_${t}_${n}`}var t,n,r;return t=e,(n=[{key:"getId",value:function(){return this._id}}])&&je(t.prototype,n),r&&je(t,r),e}();function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let qe=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=`${t}_${n}`}var t,n,r;return t=e,(n=[{key:"getId",value:function(){return this._id}}])&&Le(t.prototype,n),r&&Le(t,r),e}();function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let Fe=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);const r=n.split("_")[2];this._id=t+"_"+r}var t,n,r;return t=e,(n=[{key:"getId",value:function(){return this._id}}])&&Re(t.prototype,n),r&&Re(t,r),e}();var We=n(64216);function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let Ue=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._options=new We.FJ({serialize:e=>e.getValue()})}var t,n,r;return t=e,(n=[{key:"init",value:function(e){const t=this;return new Promise((n=>{e&&e.getAll().forEach((e=>{t._options.add(e)})),n(t._options)}))}},{key:"getOptions",value:function(){return this._options.clone()}},{key:"setOptions",value:function(e){return new Promise(((t,n)=>{this._options.clear();const r=[];for(const t of e)this._options.add(t),r.push(t.getValue())}))}}])&&Me(t.prototype,n),r&&Me(t,r),e}();var xe=n(62938),Ge=n(81254),ze=n(80569);function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let Ve=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"makeRequest",value:function(e){return new Promise(((t,n)=>{const r={};e.getHeaders().forEach(((e,t)=>{r[t]=e}));const i=e.getParameters();i.appVersion="1.0",i.appId="com.flashscore",ze.post(e.getUrl()).type("form").send(i).timeout({response:e.getPendingTimeout(),deadline:e.getConnectionTimeout()}).set(r).then((e=>{const n=new Map;for(const t in e.header)n.set(t,e.header[t]);t(new Ge.KH(e.text,e.status,n))}),(e=>n(e.message)))}))}}])&&Je(t.prototype,n),r&&Je(t,r),e}();function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let Be=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=t,this._email=n,this._hash=r,this._namespace=i}var t,n,r;return t=e,(n=[{key:"getId",value:function(){return this._id}},{key:"getEmail",value:function(){return this._email}},{key:"getHash",value:function(){return this._hash}},{key:"getNamespace",value:function(){return this._namespace}}])&&He(t.prototype,n),r&&He(t,r),e}();function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let Ke=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._lsnpPath=t,this._language=n,this._token=r||"",this._enabled=void 0===i||i}var t,n,r;return t=e,(n=[{key:"setToken",value:function(e){return this._token=e||"",this}},{key:"getToken",value:function(){return this._token}},{key:"getLsnpPath",value:function(){return this._lsnpPath}},{key:"getLanguage",value:function(){return this._language}},{key:"isEnabled",value:function(){return this._enabled}}])&&Ze(t.prototype,n),r&&Ze(t,r),e}();function $e(e){return function(e){if(Array.isArray(e))return Ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let Xe=function(){function e(t,n,r,i,s,a,o,l,u,c,h,f){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._enabled=!1,this._registrationListener=()=>null,this._messaging=t,this._language=n,this._platformPrefix=r,this._window=i,this._navigator=s,this._serviceWorkerLocation=a,this._credentials=h,this._logger=f,this._tokenStorage=o,o.init().then((()=>{this.synchronize()})),l.init().then((()=>{this._currentChannels=l,this.synchronize()})),u.init().then((()=>{this._currentDisabledChannels=u,this._disabledChannels=[],this._currentDisabledChannels.getChannels().getAll().forEach((e=>{this._disabledChannels.push(e)})),this.synchronize()})),c.init((0,Oe._)()).then((e=>{this._currentSettings=c;const t=new Ue;t.init(e).then((()=>{this._settings=t,this.synchronize()}))}))}var t,n,r;return t=e,(n=[{key:"enable",value:function(){this._enabled=!0}},{key:"setPermissionProvider",value:function(e){return this._permissionProvider=e,this}},{key:"setAlertWrapper",value:function(e){return this._alertWrapper=e,this}},{key:"_getToken",value:function(){return this._tokenStorage.getToken()}},{key:"setUserToken",value:function(e){const t=!!this.getUserToken()||this.getUserToken()!==e,n=!this.getUserToken()||this.isUserTokenEnabled();return t&&(this._tokenStorage.setToken(new Ke(this._platformPrefix,this._language,e,n)),this.synchronize()),this}},{key:"getUserToken",value:function(){return this._getToken().getToken()}},{key:"isUserTokenEnabled",value:function(){return this._getToken().isEnabled()}},{key:"setUserTokenEnabled",value:function(e){this._tokenStorage.setToken(new Ke(this._platformPrefix,this._language,this.getUserToken(),e)),this.synchronize()}},{key:"setMyGames",value:function(e){return this._myGames=e,this}},{key:"setMyTeams",value:function(e){return this._myTeams=e,this}},{key:"setLoginClient",value:function(e){return this._loginClient=e,this}},{key:"_getApi",value:function(){return this._pushApi||(this._pushApi=(new Se).setPlatformPrefix(this._platformPrefix).setRequestor(new Ve).setUserTokenGetter((()=>this.getUserToken())).build()),this._pushApi}},{key:"_getSynchronizer",value:function(){return this._synchonizer||(this._synchonizer=new Ee(this._getApi(),(()=>this.getCurrentChannels()),(()=>this.getCurrentDisabledChannels()),(()=>this.getCurrentSettings()))),this._synchonizer}},{key:"getStatusAlert",value:function(){return this._notificationStatusAlert||(this._notificationStatusAlert=new P(this._permissionProvider,this._alertWrapper)),this._notificationStatusAlert}},{key:"getNotificationInit",value:function(){const e=new c(this._messaging),t=new f(this._navigator,this._window),n=new l(new p(this._navigator,this._serviceWorkerLocation),this._registrationListener),r=new y(this._messaging),i=new v(this._messaging,(e=>this.setUserToken(e)));return new a(e,t,n,r,i,this._logger)}},{key:"getCurrentChannels",value:function(){return this._currentChannels.getChannels()}},{key:"getCurrentDisabledChannels",value:function(){return this._currentDisabledChannels.getChannels()}},{key:"getCurrentSettings",value:function(){const e=this._currentSettings.getOptions();if(e.isEmpty())for(const t of Oe.A)e.add(t);return e}},{key:"addSettingOption",value:function(e){const t=this._getSettingsOptions();return t.push(new xe.I(e)),this._settings.setOptions(t)}},{key:"removeSettingOption",value:function(e){const t=this._getSettingsOptions().filter((t=>t.getValue()!==e));return this._settings.setOptions(t)}},{key:"muteChannel",value:function(e){const t=this._getDisabledChannels();return t.push(new qe(this._language,e)),this._disabledChannels=t,this.synchronize()}},{key:"unMuteChannel",value:function(e){const t=new qe(this._language,e).getId(),n=this._getDisabledChannels().filter((e=>e.getId()!==t));return this._disabledChannels=n,this.synchronize()}},{key:"synchronize",value:function(){return new Promise(((e,t)=>{if(!(this._enabled&&this.getUserToken()&&this._currentSettings&&this._currentChannels&&this._currentDisabledChannels))return void e(!1);const n=[];this.isUserTokenEnabled()&&(n.push.apply(n,$e(this._getLoginClientChannels())),n.push.apply(n,$e(this._getMyGamesChannels())),n.push.apply(n,$e(this._getMyTeamsChannels())));const r=this._getDisabledChannels(),i=[];i.push.apply(i,$e(this._getSettingsOptions())),this._getSynchronizer().channelsChanged(n,r,i).then((()=>{this._currentChannels.setChannels(n),this._currentDisabledChannels.setChannels(r),this._currentSettings.setOptions(i),e(!0)})).catch((()=>{e(!1)}))}))}},{key:"_getDisabledChannels",value:function(){return this._disabledChannels}},{key:"_getSettingsOptions",value:function(){const e=[];let t;return t=this._settings?this._settings.getOptions():(0,Oe._)(),t.getAll().forEach((t=>{e.push(t)})),e}},{key:"_getMyGamesChannels",value:function(){const e=[];if(this._myGames){const t=this._myGames.getContainer();if(t){const n=Object.keys(t);for(const t of n)e.push(new Fe(this._language,t))}}return e}},{key:"_getMyTeamsChannels",value:function(){const e=[];if(this._myTeams){const t=this._myTeams.getParticipantKeysFromLsid();if(t)for(const n of t)e.push(new Ne(this._language,n))}return e}},{key:"_getLoginClientChannels",value:function(){const e=[];if(this._loginClient&&this._loginClient.loggedIn()){const t=this._loginClient.id(),n=this._loginClient.email(),r=this._loginClient.hash(),i=this._loginClient.namespace();t&&n&&i&&r&&(e.push(new De(n,i)),this._credentials.setCredentials(new Be(t,n,r,i)))}return e}}])&&Qe(t.prototype,n),r&&Qe(t,r),e}();function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let tt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=t}var t,n,r;return t=e,(n=[{key:"getId",value:function(){return this._id}}])&&et(t.prototype,n),r&&et(t,r),e}();function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let rt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._key="lsnp_channels",this._storage=t,this._channels=new We.FJ({serialize:e=>e.getId()})}var t,n,r;return t=e,(n=[{key:"init",value:function(e){const t=this;return new Promise((n=>{t._storage.get(t._key).then((r=>{if(r)for(const e of r)t._channels.add(new tt(e));else e&&e.getAll().forEach((e=>{t._channels.add(e)}));n(t._channels)}))}))}},{key:"getChannels",value:function(){return this._channels.clone()}},{key:"setChannels",value:function(e){return new Promise(((t,n)=>{this._channels.clear();const r=[];for(const t of e)this._channels.add(t),r.push(t.getId());this._storage.set(this._key,r).then((()=>t())).catch((e=>n()))}))}}])&&nt(t.prototype,n),r&&nt(t,r),e}();function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let st=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.STORAGE_KEY="lsnp_token",this._storage=t,this._tokens=new We.FJ({serialize:e=>e.getToken()})}var t,n,r;return t=e,(n=[{key:"init",value:function(e){const t=this;return new Promise((n=>{this._storage.get(this.STORAGE_KEY).then((r=>{r?t._tokens.add(new Ke(r._lsnpPath,r._language,r._token,r._enabled)):e&&e.getAll().forEach((e=>{t._tokens.add(e)})),n(t._tokens)}))}))}},{key:"getToken",value:function(){const e=this._tokens.clone().getAll();return e.length?e[0]:new Ke("","")}},{key:"setToken",value:function(e){return new Promise(((t,n)=>{this._tokens.clear(),this._tokens.add(e),this._storage.set(this.STORAGE_KEY,e).then((()=>t())).catch((e=>n()))}))}}])&&it(t.prototype,n),r&&it(t,r),e}();function at(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ct(e);if(t){var i=ct(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ut(this,n)}}function ut(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}let ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(n,e);var t=lt(n);function n(){var e;return at(this,n),(e=t.apply(this,arguments))._key="lsnp_channels_disabled",e}return n}(rt);function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let _t=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.STORAGE_KEY="lsnp_credentials_3",this._storage=t,this._credentials=new We.FJ({serialize:e=>e.getHash()}),this._loadCredentials()}var t,n,r;return t=e,(n=[{key:"getCredentials",value:function(){return this._credentials.clone()}},{key:"setCredentials",value:function(e){return new Promise(((t,n)=>{this._credentials.clear(),this._credentials.add(e),this._storage.set(this.STORAGE_KEY,e).then((()=>t())).catch((e=>n()))}))}},{key:"_loadCredentials",value:function(){const e=this;this._storage.get(this.STORAGE_KEY).then((t=>{t&&e._credentials.add(new Be(t._id,t._email,t._hash,t._namespace))}))}}])&&ft(t.prototype,n),r&&ft(t,r),e}();function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let gt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._key="lsnp_options",this._storage=t,this._options=new We.FJ({serialize:e=>e.getValue()})}var t,n,r;return t=e,(n=[{key:"init",value:function(e){const t=this;return new Promise((n=>{this._storage.get(this._key).then((r=>{if(r)for(const e of r)t._options.add(new xe.I(e));else e&&e.getAll().forEach((e=>{t._options.add(e)}));n(t._options)}))}))}},{key:"getOptions",value:function(){return this._options.clone()}},{key:"setOptions",value:function(e){return new Promise(((t,n)=>{this._options.clear();const r=[];for(const t of e)this._options.add(t),r.push(t.getValue());this._storage.set(this._key,r).then((()=>t())).catch((e=>n()))}))}}])&&pt(t.prototype,n),r&&pt(t,r),e}();function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let bt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._window=window,this._navigator=navigator}var t,n,r;return t=e,(n=[{key:"setFirebaseConfiguration",value:function(e){const t=i.initializeApp(e);return this._messaging=t.messaging(),this}},{key:"setLanguage",value:function(e){return this._language=e,this}},{key:"setPlatformPrefix",value:function(e){return this._platformPrefix=e,this}},{key:"setBrowserDepenedency",value:function(e,t){return this._window=e,this._navigator=t,this}},{key:"setServiceWorkerLocation",value:function(e){return this._serviceWorkerLocation=e,this}},{key:"setTokenStorage",value:function(e){return this._token=new st(e),this}},{key:"setSettingsStorage",value:function(e){return this._currentChannels=new rt(e),this._currentDisabledChannels=new ht(e),this._currentOptions=new gt(e),this}},{key:"setCredentialsStorage",value:function(e){return this._credentials=new _t(e),this}},{key:"setLogger",value:function(e){return this._logger=e,this}},{key:"build",value:function(){return new Xe(this._messaging,this._language,this._platformPrefix,this._window,this._navigator,this._serviceWorkerLocation,this._token,this._currentChannels,this._currentDisabledChannels,this._currentOptions,this._credentials,this._logger)}}])&&yt(t.prototype,n),r&&yt(t,r),e}();var vt=n(79475);function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}let kt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._storage=new vt.oQ(vt.W.make(t))}var t,n,r;return t=e,(n=[{key:"getStorage",value:function(){return this._storage}}])&&dt(t.prototype,n),r&&dt(t,r),e}();var wt,mt,Ct,Pt,Tt,St,It,Et,Ot,At,Nt,jt,Dt,Lt,qt,Rt=n(27925);wt=document,mt=navigator,Ct=window,Pt=cjs.Api.clientStorage,Tt=cjs.dic.get("util_trans"),St=cjs.Api.loader.get("notifications"),It=cjs.Api.loader.get("notifications/gui"),Et=cjs.Api.loader.get("notifications/subscribe"),Ot=cjs.Api.loader.get("cjs"),At=cjs.Api.loader.get("myGames"),Nt=cjs.Api.loader.get("myTeams"),jt=cjs.Api.loader.get("loginClient"),Dt=cjs.dic.get("HighlightWindowManager"),Lt=()=>cjs.Api.config.get("app","google_analytics","event_tracking"),qt=window.dataLayer=window.dataLayer||[],Ot.call((e=>{if(!cjs.Api.config.get("app","native_notifications","enabled")||!i.messaging.isSupported()||!cjs.dic.get("util_browser").isMobile()&&cjs.Api.config.get("app","project","id")!=Rt.m.TESTLIVESPORT_CZ_CZ&&cjs.Api.config.get("app","project","id")!=Rt.m.TESTLIVESPORT_CZ_EN)return void St.fulfill((e=>{e(!1)}));const t=cjs.Api.config.get("app","url_prefix")+"/x/js/worker.js",n=(new bt).setFirebaseConfiguration(cjs.Api.config.get("app","native_notifications","firebase")).setPlatformPrefix(cjs.Api.config.get("app","native_notifications","lsnp")).setLanguage(cjs.Api.config.get("app","lang","web")).setBrowserDepenedency(Ct,mt).setServiceWorkerLocation(t).setTokenStorage(new kt("lsnp").getStorage()).setSettingsStorage(new kt("lsnp").getStorage()).setCredentialsStorage(new kt("lsnp").getStorage()).setLogger((e=>{clog("PushNotification",e)})).build();if("Notification"in Ct){const e=document.getElementById("notifications-alert-wrapper"),t=n.getNotificationInit(),i=()=>{t.run().then((e=>{n.getStatusAlert().hideAlert(),e==r.INITIALIZED?(()=>{Lt()&&qt.push({event:"webNotificationStatus",webNotification:"on"});const e=wt.getElementById("userNotifications");e&&e.classList.add("userControls__item--open"),It.call((t=>{t.enable(),e&&e.addEventListener("click",(e=>{Dt.changeActive("verticalMenu",!1),t.getHandlerOnClick()(e)}))})),n.enable();const t=()=>(n.getStatusAlert().showAlert(),n.synchronize());At.call((e=>{n.setMyGames(e),e.addChangeCallback(t),t()})),Nt.call((e=>{n.setMyTeams(e),e.registerCallback("add",t),e.registerCallback("remove",t),e.registerCallback("dataLoaded",t),t()})),jt.call((e=>{n.setLoginClient(e),e.registerCallback("login",t),e.registerCallback("logout",t),e.registerCallback("dataSyncChange/mygames",t),e.registerCallback("dataSyncChange/myTeams",t),t()})),St.fulfill((e=>{e(n)}))})():Lt()&&qt.push({event:"webNotificationStatus",webNotification:"off"})})).catch((e=>{n.getStatusAlert().hideAlert()}))};Et.fulfill((e=>{e(i)}));const s=()=>{Lt()&&qt.push({event:"webNotificationStatus",webNotification:"off"}),It.call((e=>{e.updateStatus()}));const e=()=>{n.getStatusAlert().showAlert();const e=wt.getElementById("notifications-alert");if(e){const t=e.querySelector(".alert__close");t&&t.addEventListener("click",(()=>{Pt.storeSession("LS_notifications_dismissed",1,1209600)}))}};At.call((t=>{n.setMyGames(t),t.addChangeCallback(e)})),Nt.call((t=>{n.setMyTeams(t),t.registerCallback("add",e),t.registerCallback("remove",e),t.registerCallback("dataLoaded",e)})),jt.call((t=>{n.setLoginClient(t),t.registerCallback("login",e),t.registerCallback("logout",e),t.registerCallback("dataSyncChange/mygames",e),t.registerCallback("dataSyncChange/myTeams",e)}))},a=()=>{Lt()&&qt.push({event:"webNotificationStatus",webNotification:"disallow"}),It.call((e=>{e.updateStatus()}));const e=wt.getElementById("notifications-alert");if(e){const t=e.querySelector(".alert__close");t&&t.addEventListener("click",(()=>{Pt.storeSession("LS_notifications_dismissed",1,7776e3)}))}const t=wt.getElementById("userNotifications");if(t){t.classList.add("userControls__item--open");const e=t.querySelector(".userControls__textNotifications");e&&e.classList.add("userControls__textNotifications--open")}};n.setPermissionProvider((()=>Notification.permission)).setAlertWrapper(e).getStatusAlert().setStorage(Pt).setTranslations(Tt).setSubscribeCallback(i).setPendingCallback(s).setDeniedCallback(a).run()}}))},25702:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{c:()=>i});let i=function(){function e(t,n,r=new Map,i=e.DEFAULT_CONNECTION_TIMEOUT,s=e.DEFAULT_PENDING_TIMEOUT){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t,this._parameters=n,this._headers=r,this._connectionTimeout=i,this._pendingTimeout=s}var t,n,i;return t=e,(n=[{key:"getConnectionTimeout",value:function(){return this._connectionTimeout}},{key:"getPendingTimeout",value:function(){return this._pendingTimeout}},{key:"getUrl",value:function(){return this._url}},{key:"getParameters",value:function(){return this._parameters}},{key:"getHeaders",value:function(){return this._headers}}])&&r(t.prototype,n),i&&r(t,i),e}();i.DEFAULT_CONNECTION_TIMEOUT=5e3,i.DEFAULT_PENDING_TIMEOUT=15e3},8789:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,_:()=>a});var r=n(64216),i=n(62938);const s=[new i.I("sport_1;3"),new i.I("sport_1;4"),new i.I("sport_1;41"),new i.I("sport_2;3"),new i.I("sport_3;3"),new i.I("sport_4;3"),new i.I("sport_4;4"),new i.I("sport_4;41"),new i.I("sport_5;3"),new i.I("sport_6;3"),new i.I("sport_7;3"),new i.I("sport_8;3"),new i.I("sport_9;3"),new i.I("sport_10;3"),new i.I("sport_11;3"),new i.I("sport_12;3"),new i.I("sport_13;3"),new i.I("sport_14;3"),new i.I("sport_15;3"),new i.I("sport_16;3"),new i.I("sport_17;3"),new i.I("sport_18;3"),new i.I("sport_19;3"),new i.I("sport_21;3"),new i.I("sport_22;3"),new i.I("sport_24;3"),new i.I("sport_25;3"),new i.I("sport_26;3"),new i.I("sport_28;3"),new i.I("sport_29;3"),new i.I("sport_30;3"),new i.I("sport_34;63"),new i.I("sport_36;3"),new i.I("sport_23;63"),new i.I("sport_23;103"),new i.I("sport_23;62"),new i.I("sport_23;60"),new i.I("sport_23;101"),new i.I("sport_23;61"),new i.I("sport_42;3"),new i.I("sport_31;63"),new i.I("sport_31;103"),new i.I("sport_31;62"),new i.I("sport_32;63"),new i.I("sport_32;103"),new i.I("sport_32;62"),new i.I("sport_33;63"),new i.I("sport_33;103"),new i.I("sport_33;62"),new i.I("sport_37;60"),new i.I("sport_37;61"),new i.I("sport_37;101"),new i.I("sport_37;62"),new i.I("sport_37;63"),new i.I("sport_37;103"),new i.I("sport_38;60"),new i.I("sport_38;61"),new i.I("sport_38;101"),new i.I("sport_38;62"),new i.I("sport_38;63"),new i.I("sport_38;103"),new i.I("sport_39;60"),new i.I("sport_39;61"),new i.I("sport_39;101"),new i.I("sport_39;62"),new i.I("sport_39;63"),new i.I("sport_39;103"),new i.I("sport_40;60"),new i.I("sport_40;61"),new i.I("sport_40;101"),new i.I("sport_40;62"),new i.I("sport_40;63"),new i.I("sport_40;103"),new i.I("sport_41;60"),new i.I("sport_41;61"),new i.I("sport_41;101"),new i.I("sport_41;62"),new i.I("sport_41;63"),new i.I("sport_41;103")];function a(){const e=new r.FJ({serialize:e=>e.getValue()});for(const t of s)e.add(t);return e}},62938:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,{I:()=>i});let i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=t}var t,n,i;return t=e,(n=[{key:"getValue",value:function(){return this._id}}])&&r(t.prototype,n),i&&r(t,i),e}()},27925:(e,t,n)=>{"use strict";var r;n.d(t,{m:()=>r}),function(e){e[e.FLASHSCORE_CO_KR=34]="FLASHSCORE_CO_KR",e[e.FLASHSCORE_CO_JP=39]="FLASHSCORE_CO_JP",e[e.TESTLIVESPORT_CZ_CZ=29]="TESTLIVESPORT_CZ_CZ",e[e.TESTLIVESPORT_CZ_EN=49]="TESTLIVESPORT_CZ_EN"}(r||(r={}))}},e=>{"use strict";e.O(0,[1216],(()=>{return t=23831,e(e.s=t);var t}));e.O()}]);